<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="./static/bootstrap_3.3.7.min.css" />
    <link rel="stylesheet" type="text/css" href="./static/trumbowyg.2.4.0.min.css" />
    <link rel="stylesheet" type="text/css" href="./static/spectrum.1.8.min.css" />
    <link rel="stylesheet" type="text/css" href="./static/style.css" />
  </head>
  <body onload="init();">
    <div id="mask-on-drag" class="hidden"></div>
    <div id="show-menu" class="container-fluid">
      <nav class="collapse navbar-collapse" id="bs-navbar">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <button id="return-to-edit" onclick="return_to_edit();" type="button" class="btn btn-default btn-xs">
              <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
            </button>
          </li>
        </ul>
      </nav>
    </div>
    <header id="edit-menu" class="container-fluid bs-docs-nav navbar navbar-static-top">
      <div class="navbar-header">
        <button aria-controls="bs-navbar" aria-expanded="false" class="collapsed navbar-toggle" data-target="#bs-navbar" data-toggle="collapse" type="button">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav class="collapse navbar-collapse" id="bs-navbar">
        <ul class="nav navbar-nav">
          <li>
            <div class="btn-group">
              <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Load examples : <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" id="release-menu">
                <li onclick="load_example('./examples/campement.min.svg', 'campement.min.svg (example)');">
                  Campement
                </li>
                <li onclick="load_example('./examples/organes.min.svg', 'organes.min.svg (example)');">
                  Organes
                </li>
              </ul>
              <ul class="dropdown-menu" id="debug-menu">
                <li onclick="load_example('./examples/campement.min.svg', 'campement.min.svg (example)');">
                  campement.min.svg
                </li>
                <li onclick="load_example('./examples/campement_with_cross.min.svg', 'campement_with_cross.min.svg (example)');">
                  campement_with_cross.min.svg
                </li>
                <li onclick="load_example('./examples/organes.min.svg', 'organes.min.svg (example)');">
                  organes.min.svg
                </li>
                <li onclick="load_example('./examples/landscape1.svg', 'landscape1.svg (example)');">
                  landscape1.svg&nbsp;(300x200)
                </li>
                <li onclick="load_example('./examples/landscape2.svg', 'landscape2.svg (example)');">
                  landscape2.svg&nbsp;(600x200)
                </li>
                <li onclick="load_example('./examples/portrait1.svg', 'portrait1.svg (example)');">
                  portrait1.svg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(200x300)
                </li>
                <li onclick="load_example('./examples/portrait2.svg', 'portrait2.svg (example)');">
                  portrait2.svg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(200x600)
                </li>
              </ul>
            </div>
          </li>
          <li>
            <button onclick="export_html();" id="save-form" class="btn btn-default btn-xs disabled">
              <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> Save
            </button>
          </li>
          <li>
            <button class="btn btn-default btn-xs" data-toggle="modal" data-target=".bs-about-modal-sm">
              <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> About
            </button>
          </li>
          <li>
            <button class="btn btn-default btn-xs" data-toggle="modal" data-target=".bs-help-modal-sm">
              <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> Help
            </button>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <button onclick="display_result();" id="nav-right" type="button" class="btn btn-default btn-xs disabled">
              <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Show
            </button>
          </li>
        </ul>
        <div class="container">
        <ul class="nav navbar-nav">
          <li>
            <button id="undo-button" type="button" class="btn btn-default btn-xs disabled hidden">
              <span class="glyphicon glyphicon-undo" aria-hidden="true"></span> Undo
            </button>
          </li>
          <li>
           <button id="redo-button" type="button" class="btn btn-default btn-xs disabled hidden">
            <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span> Redo
          </button>
          </li>
        </ul>
        </div>
      </nav>
    </header>
    <div id="upload-zone" class="container">
      <form method="post" action="." enctype="multipart/form-data" novalidate="" class="box has-advanced-upload">
        <div class="box__input">
          <div id="download-pic" class="glyphicon glyphicon-download-alt" aria-hidden="true"></div>
          <input type="file" name="files[]" id="file" class="box__file">
          <label id="choose-file" for="file">
            <div id="choose-file-zone">
              <div>
                <strong>Choose a file</strong>
                <span class="box__dragndrop"> or drag it here.</span>
              </div>
          </div>
          </label>
          <label id="upload-text" class="hidden" for="file"></label>
          <button type="submit" class="box__button">Upload</button>
        </div>
        <div class="box__error">Error! Try again!</div>
      </form>
    </div>
    <div id="edit-zone" class="hidden">
      <div id="svg" class="edit-mode">
        <section id="descriptions">
          <article id="template-description" class="description hidden">
            <h2>
              <span class="indice">0</span>
              <span class="title"></span>
            </h2>
            <div class="description-content">
            </div>
          </article>
      </section>
        <div id="frame">
          <button id="delete-svg" type="button" class="btn btn-danger btn-xs" data-toggle="modal" data-target=".bs-delete-picture-modal-sm">
            <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Delete
          </button>
          <div id="content" data-full="false">
            <section id="real-legend" class="hidden">
              <label id="real-template-indice" class="indice hidden" onclick="real_zoom(this);">
                  <span>0</span>
                  <em></em>
              </label>
            </section>
          </div>
        </div>
      </div>
      <div id="sidebar">
          <div id="legend-container" class="container-fluid">
            <div id="add-and-delete-legend">
              <button type="button" id="add-legend-button" onclick="add_legend(this);" class="btn btn-success btn-xs">
                Add to Legend <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              </button>
              <button type="button" id="delete-legend-button" class="btn btn-danger btn-xs disabled" data-toggle="modal" data-target=".bs-delete-legend-modal-sm">
                <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Delete
              </button>
            </div>
            <div id="legend-list-container" class="container-fluid">
              <input type="hidden" id="nb-indices" value="0" />
              <input type="hidden" id="count-nb-display" value="0" />
              <input type="hidden" id="count-nb-selected" value="0" />
              <input type="hidden" id="last-folded-indice" value="" />
              <table id="list-of-legend" class="table table-bordered hidden">
                <thead>
                  <tr>
                    <th><span id="show-all-legend" class="display-indice" onclick="show_all_legend();"></span></th>
                    <th class="no-visible"></th>
                    <th><input type="checkbox" id="select-all-legend" onclick="select_all_legend();"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="template-legend" class="hidden">
                    <td>
                      <span class="display-indice" onclick="show_legend(this);"></span>
                    </td>
                    <td>
                      <span class="open-detail" onclick="open_detail(this);"></span>
                      <span class="indice">0</span><em>-- no title --</em>
                      <div class="detail hidden">
                        <div class="form-group first">
                          Zoom <input class="zoom-input"
                          disabled="disabled" type="number"
                          step="10" value="100"
                          min="10" max="1000" onchange="zoom(this);"> %
                          <input id="zoom-enabled" type="checkbox" onchange="active_zoom(this);" /> Enabled
                        </div>
                        <div class="form-group last">
                          <input class='color-indice-picker' />
                          <button type="button" class="related-target-editor btn btn-success btn-xs" data-toggle="modal" data-target=".bs-edit-legend-modal-lg">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit title and description
                          </button>
                        </div>
                      </div>
                    </td>
                    <td class="selection">
                      <input class="select" type="checkbox" onchange="select_legend(this);">
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div id="source-file-zone">
            <span>Source file : </span><strong id="source-file"></strong>
          </div>
      </div>
    </div>
    <div id="edit-legend-modal" class="modal fade bs-edit-legend-modal-lg" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Edit legend</h4>
          </div>
          <div class="modal-body">
            <div class="form-horizontal">
              <div class="form-group">
                <label class="col-lg-1 control-label" id="indice-title">Title</label>
                <div class="col-lg-11">
                  <input id="modal-legend-id" type="hidden" />
                  <input id="legend-title" type="text" name="indice-text" maxlength="50" class="form-control" />
                </div>
              </div>
            </div>
            <div id="indice-description"></div>
          </div>
        </div>
      </div>
    </div>
    <div id="about-modal" class="modal fade bs-about-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">About</h4>
          </div>
          <div id="about">
            <details>
              <summary><strong>Edit interactive SVG</strong> (0.3)</summary>
              <p>Edit a static SVG with legend and description to be an interactive content.</p>
              <p>In order to be the most relevant, it is possible to add zooms to focus on a particular element.</p>
            </details>
            <details>
              <summary>Examples</summary>
              <ul>
                <li><a href="https://mothsart.github.io/labo/frontend/interactive_svg" target="_blank">Paléolithique</a></li>
              </ul>
            </details>
            <details>
              <summary>Credits</summary>
              <ul>
                <li><a href="http://mothsart.github.io" target="_blank">Jérémie Ferry (mothsART)</a></li>
              </ul>
            </details>
          </div>
        </div>
      </div>
    </div>
    <div id="help-modal" class="modal fade bs-help-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Help</h4>
          </div>
          <div id="help">
          </div>
        </div>
      </div>
    </div>
    <div id="delete-legend-modal" class="modal fade bs-delete-legend-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Would you delete the selected legends ?</h4>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">No</button>
            <button type="button" onclick="delete_legend();" class="btn btn-primary btn-xs">Yes</button>
          </div>
        </div>
      </div>
    </div>
    <div id="delete-picture-modal" class="modal fade bs-delete-picture-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Would you delete this picture ?</h4>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">No</button>
            <button type="button" onclick="delete_pic();" class="btn btn-primary btn-xs">Yes</button>
          </div>
        </div>
      </div>
    </div>
    <div id="load-picture-modal" class="modal fade bs-load-picture-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">
              Loading a new image means that you will delete your current job.<br />
              Are you ok with that ?
            </h4>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">No</button>
            <button type="button" onclick="replace_with_example();" class="btn btn-primary btn-xs">Yes</button>
          </div>
        </div>
      </div>
    </div>
    <script src="./static/jquery.min.js" type="application/javascript"></script>
    <script src="./static/bootstrap_3.3.7.min.js" type="application/javascript"></script>
    <script src="./static/FileSaver.min.js" type="application/javascript"></script>
    <script src="./static/dragula_3.7.2.min.js" type="application/javascript"></script>
    <script src="./static/trumbowyg.2.4.0.min.js" type="application/javascript"></script>
    <script src="./static/spectrum.1.8.0.min.js" type="application/javascript"></script>
    <script src="./static/drag_and_drop_file.js" type="application/javascript"></script>
    <script src="./static/script.js" type="application/javascript"></script>
    <script src="./static/export.js" type="application/javascript"></script>
    <script src="./static/populate.js" type="application/javascript"></script>
    <script src="./static/load_examples.js" type="application/javascript"></script>
  </body>
</html>